# 通过变量使用原始值和引用值
- 原始值 就是简单类型，一共六种：undefined，null,boolean,number,string,symbol。按值访问的

- 引用值 则是有多个值构造的对象，按引用访问的

- 传递参数，函数的参数都是按值传递的

- typeof 对原始值很有用，但是对引用值用处不大，通常我们不关心一个值是不是对象，而是关心这个值是什么对象，instanceof能够很好的实现这一点。

```
result = value instanceof constructor;
```


# 理解执行上下文
- 执行上下文，简称'上下文'
    - 变量和函数的上下文决定了它们可以访问哪些数据，以及它们的行为。每个上下文都有一个关联的对象，而这个上下文定义的所有变量和函数都存在于这个对象上面

    - 全局上下文，就是最外层的上下文，根据实现的宿主环境不同，全局上下文对象可能不一样。
        - 在浏览器中，全局上下文对象是window对象，所有通过var定义的全局变量和函数都会成为window的属性和方法。但是使用let和const的顶级声明不会定义在全局上下文中，但是作用域解析上效果是一样的。
    



# 理解垃圾回收
- javascript是使用垃圾回收的语言，也就是执行环境负责在代码执行时管理内存，通过自动内存管理实现内存分类和闲置资源回收。基本思路很简单，就是确定变量不会再使用就释放它占用的资源。这个过程是周期性的，即垃圾回收机制每隔一定时间就会自动执行。垃圾回收是一个近似但是不完美的方案，因为某块内存是否可用，属于不可判定的问题，意味着靠算法是解决不了的。

- 标记清除
    - 最常用的垃圾回收策略
    - 当变量进入上下文时，比如在函数内部声明一个变量，这个变量会被加上存在与上下文的标记，。而在上下文中的变量，是不会释放他们的内存的，因为只要上下文中的代码在运行，就有可能用到他们，当变量离开上下文时，也会被加上离开上下文的标记。

- 引用清除
    - 不常用且过时。
    - 缺陷：不能解决循环引用的问题。

- 性能
    - 垃圾回收会周期性运行，如果分配很多变量会导致性能损失。垃圾回收会拖慢渲染的速度，和帧速率
    - 开发者最好的办法就是无论什么时候回收垃圾，都能让他尽快的结束工作，让不能用到的变量尽快的释放掉
    - 

- 内存管理
    - 将内存占用量保存在一个较小的值可以让页面性能更好。
    - 如果数据不再必要，那么把他设置为 null，称为 **引用解除**
    - 通过const和let声明可以提升性能
    - 隐藏类和删除操作
        - V8 引擎能够将创建的对象和隐藏类关联起来，以跟踪他们的属性特征。能够共享相同属性的隐藏类的对象性能会更好。
        - 避免产生不同隐藏类的做法：避免先创建再补充或者先创建再用delete删除属性的这种动态属性增删的做法。
        - 尽量在构造函数中一次性声明所有属性。实例化后的对象不需要某个属性可以将这个属性设置为null


    - 内存泄漏
        - 意外声明全局变量是最常见也是最容易修复的内存泄漏问题，检查变量的声明前面是否缺少关键字。
        - 定时器也可能会悄悄地导致内存泄漏
        - 使用javascript闭包很容易在不知不觉间造成内存泄漏。

    - 压榨浏览器的性能
        - 开发者无法直接控制什么时候开始垃圾回收，但是可以间接的触发垃圾回收的条件。理论上，合理利用分配的内存，同时避免多余的垃圾回收，就能够保证因释放内存而损失的性能。
        - 用途：某个函数会被多次调用，那么就将这个函数中的定义的对象在它的外层进行实例化，然后在传入函数里面。




 
